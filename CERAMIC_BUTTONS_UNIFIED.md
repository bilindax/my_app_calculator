# ุชูุธูู ูุจุณุงุช ุงูุณูุฑุงููู ุงูุณุฑูุน - ููุฎุต ุงูุชุญุณููุงุช
========================================================

## ุงููุดููุฉ ุงูุฃุตููุฉ
ุนูุฏ ุงุณุชุฎุฏุงู "ุงูุณูุฑุงููู ุงูุณุฑูุน" ูุงู ูุญุณุจ ุงูุงุฑุชูุงุน ุจุดูู ูุฎุชูู ุนู ุงูุฅุฏุฎุงู ุงููุฏููุ ููุง ูุคุฏู ูู:
- ุณูุฑุงููู ุฃูู ูู ุงููุทููุจ
- ุจูุงุก ุฏูุงู ุฒูุงุฏุฉ ููุญูุงูุงุช

## ุงูุญู ุงููุทุจู

### 1. ุชูุญูุฏ ููุทู ุญุณุงุจ ุงูุงุฑุชูุงุน
ุชู ุชูุญูุฏ ุฃููููุฉ ุญุณุงุจ ุงุฑุชูุงุน ุงูุฌุฏุฑุงู ูู **ุฌููุน** ุงููุจุณุงุช:

**ุฃููููุฉ ุงูุญุณุงุจ:**
1. `room.wall_height` (ุฅุฐุง ูุงู ูุญุฏุฏ ุตุฑุงุญุฉ ูู ุงููุณุชุฎุฏู)
2. `walls_gross / perimeter` (ูุดุชู ูู ููุฏุณุฉ ุงูุฌุฏุฑุงู ุงููุนููุฉ)
3. `max(wall_segments.height)` (ุฃูุตู ุงุฑุชูุงุน ูู segments)
4. `project.default_wall_height` (ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ ูู ุงูุฅุนุฏุงุฏุงุช)

### 2. ุงููุจุณุงุช ุงููุญุฏูุซุฉ

#### ูู ceramic_tab.py:
โ **quick_ceramic_wizard()** - ุงูุณูุฑุงููู ุงูุณุฑูุน ุงูุฑุฆูุณู
   - ุตุงุฑ ูุนุฑุถ dialog ูุจู ุงูุชุทุจูู
   - ุงููุณุชุฎุฏู ููุฏุฑ ูุนุฏูู ุงูุงุฑุชูุงุน ุงููุญุณูุจ
   - ูุนุฑุถ ูุญูุท ููุณุงุญุฉ ูู ุบุฑูุฉ

โ **preset_bathroom_full()** - ๐ฟ ุญูุงู ูุงูู
   - ูุณุชุฎุฏู `_room_wall_height()` ุงููุญุณูู

โ **preset_toilet()** - ๐ฝ ุชูุงููุช
   - ูุณุชุฎุฏู `_room_wall_height()` ููุญูุงู ุงููุงูู
   - ูุณูุญ ุจุฅุฏุฎุงู ุงุฑุชูุงุน ูุฎุตุต ููุฌุฏุฑุงู ููุท

โ **preset_kitchen()** - ๐ณ ูุทุจุฎ
   - ูุณูุญ ุจุฅุฏุฎุงู ุงุฑุชูุงุน ูุฎุตุต (ุงูุชุฑุงุถู 1.6ู)

โ **preset_balcony()** - ๐ช ุจูููู
   - ูุณูุญ ุจุฅุฏุฎุงู ุงุฑุชูุงุน ูุฎุตุต (ุงูุชุฑุงุถู 1.6ู)

#### ูู room_manager_tab.py:
โ **_auto_add_ceramic_walls_dialog()** - ๐งฑ ุณูุฑุงููู ุฌุฏุฑุงู (ูุทุจุฎ/ุญูุงู/ุชูุงููุช/ุจูููู)
   - ูุญุฏูุซ ููุณุชุฎุฏู ููุณ ููุทู ุงูุญุณุงุจ
   - ููุญูุงูุงุช/ุชูุงููุช: ููุถูู wall_height ุงูุตุฑูุญ ูุจู ุงูุงุดุชูุงู

### 3. ุงููุณุงุนุฏุงุช ุงููุญุณููุฉ

**_room_wall_height()** ูู ceramic_tab.py:
- ุฏุงูุฉ ูุณุงุนุฏุฉ ูุดุชุฑูุฉ ููู ุงููุจุณุงุช
- ุชุทุจูู ููุณ ุฃููููุงุช ุงูุญุณุงุจ
- ุชุฏุนู dict ู dataclass

**_resolve_room_wall_height()** ูู quick_ceramic_wizard:
- ุฏุงูุฉ ูุญููุฉ ูุน ููุณ ุงูููุทู
- ุชุณุชุฎุฏู ูู ุงูู wizard dialog

### 4. ุงูุชุญุณููุงุช ุงูุฅุถุงููุฉ

#### ุฏุนู ุงููุญูุท (Perimeter):
- ููุฑุฃ ูู `perimeter` ุฃู `perim` (ุฏุนู legacy)
- ุฅุฐุง = 0ุ ูุญุณุจ ูู ูุฌููุน ุฃุทูุงู ุงูุฌุฏุฑุงู
- ูุชุฌูุจ ุงููุณูุฉ ุนูู ุตูุฑ

#### ุฏุนู UnifiedCalculator:
- `calculate_walls_gross()` ุตุงุฑ ูุณุชุฎุฏู `project.default_wall_height`
- `_get_perimeter()` ุตุงุฑ ูุฏุนู `perim` ูู fallback

#### Ceramic Calculator Presets:
- ุญุฐู hardcode ุงูู 2.4ู ูู presets
- ุตุงุฑ ูุณุชุฎุฏู `project.default_wall_height` ุฏููุงููููุงู

## ุงููุชุงุฆุฌ

โ ูู ุงููุจุณุงุช ุชุณุชุฎุฏู ููุณ ุงูููุทู
โ ูุง ููุฌุฏ ุฏูุงู ุฒูุงุฏุฉ ููุญูุงูุงุช ุงููุงููุฉ
โ ุงูุณูุฑุงููู ุงูุณุฑูุน ูุนุทู ููุณ ูุชูุฌุฉ ุงููุฏูู
โ ูู ุงูุงุฎุชุจุงุฑุงุช ูุฌุญุช (56 passed)

## ููููุฉ ุงูุงุณุชุฎุฏุงู

### ูููุณุชุฎุฏู ุงูููุงุฆู:

1. **ุฅุฐุง ุนูุฏู ุงุฑุชูุงุน ูุญุฏุฏ (ูุซูุงู 3.2ู):**
   - **ุฎูุงุฑ A**: ุงุญูุธ ุงูุงุฑุชูุงุน ูู ุจูุงูุงุช ุงูุบุฑูุฉ ูุฑุฉ ูุงุญุฏุฉ
     - ุงุฐูุจ ูู Room Manager
     - ุงุฎุชุฑ ุงูุญูุงู
     - ุนุฏูู "Wall Height" ูู 3.2
     - ุงูุณูุฑุงููู ุงูุณุฑูุน ููุณุชุฎุฏู 3.2 ุชููุงุฆูุงู
   
   - **ุฎูุงุฑ B**: ุนุฏูู ูู dialog ุงูุณูุฑุงููู ุงูุณุฑูุน
     - ุงุถุบุท "โก ุณูุฑุงููู ุณุฑูุน"
     - ุนุฏูู ุงูุงุฑุชูุงุน ูู 3.0 ูู 3.2
     - ุงุถุบุท "โ ุชุทุจูู"

2. **ููุบุฑู ุงูุนุงุฏูุฉ (ุจุฏูู ุชุนุฏูู):**
   - ุงููุจุณุงุช ุชุดุชุบู ุชููุงุฆูุงู
   - ุชุณุชุฎุฏู ุงูุงุฑุชูุงุน ุงูุฃูุซู ุญุณุจ ุจูุงูุงุช ุงูุบุฑูุฉ

### ูููุทูุฑูู:

- ูู ุฏุงูุฉ ceramic preset ูุฌุจ ุชุณุชุฎุฏู `_room_wall_height(room)`
- ุฃู ุญุณุงุจ ุฌุฏูุฏ ูุฌุจ ูุชุจุน ููุณ ุงูุฃููููุงุช
- ุงุฎุชุจุฑ ุงูุชุบููุฑุงุช ูุน `test_all_ceramic_buttons.py`

## ุงููููุงุช ุงููุนุฏููุฉ

1. `bilind/ui/tabs/ceramic_tab.py`
   - `_room_wall_height()` - ูุญุณูู ุจุงููุงูู
   - `quick_ceramic_wizard()` - ูุนุฑุถ dialog ุชูุงุนูู
   - `_show_quick_wizard_dialog()` - dialog ุฌุฏูุฏ

2. `bilind/ui/tabs/room_manager_tab.py`
   - `_auto_add_ceramic_walls_dialog()` - ูุญุฏูุซ

3. `bilind/calculations/unified_calculator.py`
   - `calculate_walls_gross()` - ูุณุชุฎุฏู project.default_wall_height
   - `_get_perimeter()` - ุฏุนู perim ู perimeter

4. `bilind/ui/tabs/helpers/ceramic_calculator.py`
   - CERAMIC_PRESETS - ุญุฐู hardcode 2.4ู

## ุงูุงุฎุชุจุงุฑุงุช

- `test_quick_ceramic_height.py` - ูุฎุชุจุฑ ุงูุณุฑูุน vs ุงููุฏูู
- `test_real_scenario.py` - ูุญุงูู ุงููุดููุฉ ุงููุนููุฉ
- `test_walls_scenario.py` - ูุฎุชุจุฑ ุงูุฌุฏุฑุงู ุงูุตุฑูุญุฉ
- `test_all_ceramic_buttons.py` - ูุชุญูู ูู ุชูุญูุฏ ูู ุงููุจุณุงุช

ุงูุชุงุฑูุฎ: 5 ููุงูุฑ 2026
